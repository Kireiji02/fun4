<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="example">

  <link name="link_0">
    <visual>
        <origin rpy="0 0 0" xyz="0.0 0.0 0.0" />
        <geometry>
            <mesh filename="file:///$(find fun4)/meshes/link_0.stl"/>
        </geometry>
    </visual>
</link>

  <link name="link_1">
    <visual>
        <origin rpy="0 0 0" xyz="0 0 0" />
        <geometry>
            <mesh filename="file:///$(find fun4)/meshes/link_1.stl"/>
        </geometry>
    </visual>
</link>

  <joint name="joint_1" type="revolute">
    <parent link="link_0" />
    <child link="link_1" />
    <limit effort="1000.0" lower="0.0" upper="${2*PI}" velocity="0.5" />
    <axis xyz="0 0 1" />
    <origin xyz="0 0 0.2" rpy="0 0 0"/>
</joint>

  <link name="link_2">
    <visual>
        <origin rpy="${PI} 0 0" xyz="0 0 0" />
        <geometry>
            <mesh filename="file:///$(find fun4)/meshes/link_2.stl"/>
        </geometry>
    </visual>
  </link>

  <joint name="joint_2" type="revolute">
      <parent link="link_1" />
      <child link="link_2" />
      <limit effort="1000.0" lower="${PI/2}" upper="${3*PI/2}" velocity="0.5" />
      <axis xyz="0 0 1" />
      <origin xyz="0 -0.12 0" rpy="0 ${PI/2} -${PI/2}" />
  </joint>

  <link name="link_3">
      <visual>
          <origin rpy="${PI} 0 0" xyz="0.0 0 0" />
          <geometry>
              <mesh filename="file:///$(find fun4)/meshes/link_3.stl"/>
          </geometry>
      </visual>
  </link>

  <joint name="joint_3" type="revolute">
      <parent link="link_2" />
      <child link="link_3" />
      <limit effort="1000.0" lower="-${PI}" upper="${PI}" velocity="0.5" />
      <axis xyz="0 0 1" />
      <origin xyz="0.25 0 -0.1" rpy="0 0 0" />
  </joint>

  <link name="end_effector">
      <visual>
          <origin rpy="0 ${PI/2} 0" xyz="0 0 0" />
          <geometry>
              <mesh filename="file:///$(find fun4)/meshes/end_effector.stl"/>
          </geometry>
      </visual>
  </link>

  <joint name="link_3_to_end_effector" type="fixed">
      <parent link="link_3" />
      <child link="end_effector" />
      <origin xyz="0.28 0 0" rpy="0 0 0" /> 
  </joint>

</robot>
